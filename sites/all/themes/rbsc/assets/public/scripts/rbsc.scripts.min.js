/*!
 * modernizr v3.2.0
 * Build http://modernizr.com/download?-canvas-canvastext-input-inputtypes-placeholder-pointerevents-search-supports-svg-time-video-addtest-fnbind-printshiv-testprop-dontmin
 *
 * Copyright (c)
 *  Faruk Ates
 *  Paul Irish
 *  Alex Sexton
 *  Ryan Seddon
 *  Patrick Kettner
 *  Stu Cox
 *  Richard Herrera

 * MIT License
 */
!function(e,t,n){function a(e,t){return typeof e===t}function i(){var e,t,n,i,r,o,s;for(var c in m)if(m.hasOwnProperty(c)){if(e=[],t=m[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=a(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)o=e[r],s=o.split("."),1===s.length?g[s[0]]=i:(!g[s[0]]||g[s[0]]instanceof Boolean||(g[s[0]]=new Boolean(g[s[0]])),g[s[0]][s[1]]=i),b.push((i?"":"no-")+s.join("-"))}}function r(e){var t=w.className,n=g._config.classPrefix||"";if(C&&(t=t.baseVal),g._config.enableJSClass){var a=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(a,"$1"+n+"js$2")}g._config.enableClasses&&(t+=" "+n+e.join(" "+n),C?w.className.baseVal=t:w.className=t)}function o(e,t){if("object"==typeof e)for(var n in e)y(e,n)&&o(n,e[n]);else{e=e.toLowerCase();var a=e.split("."),i=g[a[0]];if(2==a.length&&(i=i[a[1]]),"undefined"!=typeof i)return g;t="function"==typeof t?t():t,1==a.length?g[a[0]]=t:(!g[a[0]]||g[a[0]]instanceof Boolean||(g[a[0]]=new Boolean(g[a[0]])),g[a[0]][a[1]]=t),r([(t&&0!=t?"":"no-")+a.join("-")]),g._trigger(e,t)}return g}function s(e,t){return!!~(""+e).indexOf(t)}function c(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):C?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function l(){var e=t.body;return e||(e=c(C?"svg":"body"),e.fake=!0),e}function u(e,n,a,i){var r,o,s,u,d="modernizr",p=c("div"),f=l();if(parseInt(a,10))for(;a--;)s=c("div"),s.id=i?i[a]:d+(a+1),p.appendChild(s);return r=c("style"),r.type="text/css",r.id="s"+d,(f.fake?f:p).appendChild(r),f.appendChild(p),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),p.id=d,f.fake&&(f.style.background="",f.style.overflow="hidden",u=w.style.overflow,w.style.overflow="hidden",w.appendChild(f)),o=n(p,e),f.fake?(f.parentNode.removeChild(f),w.style.overflow=u,w.offsetHeight):p.parentNode.removeChild(p),!!o}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function p(t,a){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(d(t[i]),a))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];i--;)r.push("("+d(t[i])+":"+a+")");return r=r.join(" or "),u("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function f(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function h(e,t,i,r){function o(){u&&(delete S.style,delete S.modElem)}if(r=!a(r,"undefined")&&r,!a(i,"undefined")){var l=p(e,i);if(!a(l,"undefined"))return l}for(var u,d,h,m,v,g=["modernizr","tspan"];!S.style;)u=!0,S.modElem=c(g.shift()),S.style=S.modElem.style;for(h=e.length,d=0;d<h;d++)if(m=e[d],v=S.style[m],s(m,"-")&&(m=f(m)),S.style[m]!==n){if(r||a(i,"undefined"))return o(),"pfx"!=t||m;try{S.style[m]=i}catch(y){}if(S.style[m]!=v)return o(),"pfx"!=t||m}return o(),!1}var m=[],v={_version:"3.2.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){m.push({name:e,fn:t,options:n})},addAsyncTest:function(e){m.push({name:null,fn:e})}},g=function(){};g.prototype=v,g=new g;var y,b=[],w=t.documentElement,C="svg"===w.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;y=a(e,"undefined")||a(e.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),v._l={},v.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),g.hasOwnProperty(e)&&setTimeout(function(){g._trigger(e,g[e])},0)},v._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e,a;for(e=0;e<n.length;e++)(a=n[e])(t)},0),delete this._l[e]}},g._q.push(function(){v.addTest=o});C||!function(e,t){function n(e,t){var n=e.createElement("p"),a=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",a.insertBefore(n.lastChild,a.firstChild)}function a(){var e=T.elements;return"string"==typeof e?e.split(" "):e}function i(e,t){var n=T.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),T.elements=n+" "+e,l(t)}function r(e){var t=S[e[C]];return t||(t={},_++,e[C]=_,S[_]=t),t}function o(e,n,a){if(n||(n=t),v)return n.createElement(e);a||(a=r(n));var i;return i=a.cache[e]?a.cache[e].cloneNode():w.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e),!i.canHaveChildren||b.test(e)||i.tagUrn?i:a.frag.appendChild(i)}function s(e,n){if(e||(e=t),v)return e.createDocumentFragment();n=n||r(e);for(var i=n.frag.cloneNode(),o=0,s=a(),c=s.length;o<c;o++)i.createElement(s[o]);return i}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return T.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+a().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(T,t.frag)}function l(e){e||(e=t);var a=r(e);return!T.shivCSS||m||a.hasCSS||(a.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),v||c(e,a),e}function u(e){for(var t,n=e.getElementsByTagName("*"),i=n.length,r=RegExp("^(?:"+a().join("|")+")$","i"),o=[];i--;)t=n[i],r.test(t.nodeName)&&o.push(t.applyElement(d(t)));return o}function d(e){for(var t,n=e.attributes,a=n.length,i=e.ownerDocument.createElement(k+":"+e.nodeName);a--;)t=n[a],t.specified&&i.setAttribute(t.nodeName,t.nodeValue);return i.style.cssText=e.style.cssText,i}function p(e){for(var t,n=e.split("{"),i=n.length,r=RegExp("(^|[\\s,>+~])("+a().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),o="$1"+k+"\\:$2";i--;)t=n[i]=n[i].split("}"),t[t.length-1]=t[t.length-1].replace(r,o),n[i]=t.join("}");return n.join("{")}function f(e){for(var t=e.length;t--;)e[t].removeNode()}function h(e){function t(){clearTimeout(o._removeSheetTimer),a&&a.removeNode(!0),a=null}var a,i,o=r(e),s=e.namespaces,c=e.parentWindow;return!x||e.printShived?e:("undefined"==typeof s[k]&&s.add(k),c.attachEvent("onbeforeprint",function(){t();for(var r,o,s,c=e.styleSheets,l=[],d=c.length,f=Array(d);d--;)f[d]=c[d];for(;s=f.pop();)if(!s.disabled&&E.test(s.media)){try{r=s.imports,o=r.length}catch(h){o=0}for(d=0;d<o;d++)f.push(r[d]);try{l.push(s.cssText)}catch(h){}}l=p(l.reverse().join("")),i=u(e),a=n(e,l)}),c.attachEvent("onafterprint",function(){f(i),clearTimeout(o._removeSheetTimer),o._removeSheetTimer=setTimeout(t,500)}),e.printShived=!0,e)}var m,v,g="3.7.3",y=e.html5||{},b=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,w=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,C="_html5shiv",_=0,S={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",m="hidden"in e,v=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){m=!0,v=!0}}();var T={elements:y.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:g,shivCSS:y.shivCSS!==!1,supportsUnknownElements:v,shivMethods:y.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s,addElements:i};e.html5=T,l(t);var E=/^$|\b(?:all|print)\b/,k="html5shiv",x=!v&&function(){var n=t.documentElement;return!("undefined"==typeof t.namespaces||"undefined"==typeof t.parentWindow||"undefined"==typeof n.applyElement||"undefined"==typeof n.removeNode||"undefined"==typeof e.attachEvent)}();T.type+=" print",T.shivPrint=h,h(t),"object"==typeof module&&module.exports&&(module.exports=T)}("undefined"!=typeof e?e:this,t);var _={elem:c("modernizr")};g._q.push(function(){delete _.elem});var S={style:_.elem.style};g._q.unshift(function(){delete S.style});v.testProp=function(e,t,a){return h([e],n,t,a)};/*!
{
  "name": "SVG",
  "property": "svg",
  "caniuse": "svg",
  "tags": ["svg"],
  "authors": ["Erik Dahlstrom"],
  "polyfills": [
    "svgweb",
    "raphael",
    "amplesdk",
    "canvg",
    "svg-boilerplate",
    "sie",
    "dojogfx",
    "fabricjs"
  ]
}
!*/
g.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),/*!
{
  "name": "Canvas",
  "property": "canvas",
  "caniuse": "canvas",
  "tags": ["canvas", "graphics"],
  "polyfills": ["flashcanvas", "excanvas", "slcanvas", "fxcanvas"]
}
!*/
g.addTest("canvas",function(){var e=c("canvas");return!(!e.getContext||!e.getContext("2d"))}),/*!
{
  "name": "Canvas text",
  "property": "canvastext",
  "caniuse": "canvas-text",
  "tags": ["canvas", "graphics"],
  "polyfills": ["canvastext"]
}
!*/
g.addTest("canvastext",function(){return g.canvas!==!1&&"function"==typeof c("canvas").getContext("2d").fillText});var T=c("input"),E="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),k={};g.input=function(t){for(var n=0,a=t.length;n<a;n++)k[t[n]]=!!(t[n]in T);return k.list&&(k.list=!(!c("datalist")||!e.HTMLDataListElement)),k}(E);var x=function(e){function n(t,n){var i;return!!t&&(n&&"string"!=typeof n||(n=c(n||"div")),t="on"+t,i=t in n,!i&&a&&(n.setAttribute||(n=c("div")),n.setAttribute(t,""),i="function"==typeof n[t],n[t]!==e&&(n[t]=e),n.removeAttribute(t)),i)}var a=!("onblur"in t.documentElement);return n}();v.hasEvent=x,/*!
{
  "name": "input[search] search event",
  "property": "search",
  "tags": ["input","search"],
  "authors": ["Calvin Webster"],
  "notes": [{
    "name": "Wufoo demo",
    "href": "http://www.wufoo.com/html5/types/5-search.html?"
  }, {
    "name": "CSS Tricks",
    "href": "http://css-tricks.com/webkit-html5-search-inputs/"
  }]
}
!*/
g.addTest("inputsearchevent",x("search"));/*!
{
  "name": "Form input types",
  "property": "inputtypes",
  "caniuse": "forms",
  "tags": ["forms"],
  "authors": ["Mike Taylor"],
  "polyfills": [
    "jquerytools",
    "webshims",
    "h5f",
    "webforms2",
    "nwxforms",
    "fdslider",
    "html5slider",
    "galleryhtml5forms",
    "jscolor",
    "html5formshim",
    "selectedoptionsjs",
    "formvalidationjs"
  ]
}
!*/
var D="search tel url email datetime date month week time datetime-local number range color".split(" "),N={};g.inputtypes=function(e){for(var a,i,r,o=e.length,s=":)",c=0;c<o;c++)T.setAttribute("type",a=e[c]),r="text"!==T.type&&"style"in T,r&&(T.value=s,T.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&T.style.WebkitAppearance!==n?(w.appendChild(T),i=t.defaultView,r=i.getComputedStyle&&"textfield"!==i.getComputedStyle(T,null).WebkitAppearance&&0!==T.offsetHeight,w.removeChild(T)):/^(search|tel)$/.test(a)||(r=/^(url|email|number)$/.test(a)?T.checkValidity&&T.checkValidity()===!1:T.value!=s)),N[e[c]]=!!r;return N}(D);var j="Moz O ms Webkit",P=v._config.usePrefixes?j.toLowerCase().split(" "):[];v._domPrefixes=P,/*!
{
  "name": "DOM Pointer Events API",
  "property": "pointerevents",
  "tags": ["input"],
  "authors": ["Stu Cox"],
  "notes": [
    {
      "name": "W3C spec",
      "href": "http://www.w3.org/TR/pointerevents/"
    }
  ],
  "warnings": ["This property name now refers to W3C DOM PointerEvents: https://github.com/Modernizr/Modernizr/issues/548#issuecomment-12812099"],
  "polyfills": ["handjs"]
}
!*/
g.addTest("pointerevents",function(){var e=!1,t=P.length;for(e=g.hasEvent("pointerdown");t--&&!e;)x(P[t]+"pointerdown")&&(e=!0);return e}),/*!
{
  "name": "HTML5 Video",
  "property": "video",
  "caniuse": "video",
  "tags": ["html5"],
  "knownBugs": [
    "Without QuickTime, `Modernizr.video.h264` will be `undefined`; http://github.com/Modernizr/Modernizr/issues/546"
  ],
  "polyfills": [
    "html5media",
    "mediaelementjs",
    "sublimevideo",
    "videojs",
    "leanbackplayer",
    "videoforeverybody"
  ]
}
!*/
g.addTest("video",function(){var e=c("video"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(n){}return t});/*!
{
  "name": "CSS Supports",
  "property": "supports",
  "caniuse": "css-featurequeries",
  "tags": ["css"],
  "builderAliases": ["css_supports"],
  "notes": [{
    "name": "W3 Spec",
    "href": "http://dev.w3.org/csswg/css3-conditional/#at-supports"
  },{
    "name": "Related Github Issue",
    "href": "github.com/Modernizr/Modernizr/issues/648"
  },{
    "name": "W3 Info",
    "href": "http://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface"
  }]
}
!*/
var $="CSS"in e&&"supports"in e.CSS,A="supportsCSS"in e;g.addTest("supports",$||A),/*!
{
  "name": "time Element",
  "property": "time",
  "tags": ["elem"],
  "builderAliases": ["elem_time"],
  "notes": [{
    "name": "WhatWG Spec",
    "href": "http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#the-time-element"
  }]
}
!*/
g.addTest("time","valueAsDate"in c("time")),/*!
{
  "name": "placeholder attribute",
  "property": "placeholder",
  "tags": ["forms", "attribute"],
  "builderAliases": ["forms_placeholder"]
}
!*/
g.addTest("placeholder","placeholder"in c("input")&&"placeholder"in c("textarea")),i(),r(b),delete v.addTest,delete v.addAsyncTest;for(var M=0;M<g._q.length;M++)g._q[M]();e.Modernizr=g}(window,document),function(e){Drupal.behaviors.rbscExhibitionDisplay={attach:function(e){function t(e){var t="Previously ",n=e.split("T"),a=n[0].split("-"),i=Date.UTC(a[0],a[1],a[2]),r=new Date;return i>r&&(t="Now "),t}endDate=jQuery(".date-display-end").attr("content"),endDate&&jQuery(".view-exhibition-view .views-label-title").prepend(t(endDate))}},Drupal.behaviors.rbscHours={attach:function(t,n){e(".hours--library-status").once("rbsc",function(){var t="https://libcal.princeton.edu/api_hours_today.php?iid=771&lid=14275&format=json&systemTime=0&callback=?";e.getJSON(t,function(t){e(".hours--library-status").replaceWith("<span class='hours--library-status'>Today: "+t.locations[0].rendered+t.locations[0].desc+"</span>")})})}},Drupal.behaviors.rbscTabs={attach:function(t,n){e(document).ready(function(){var t=document.referrer.replace(/\/\s*$/,"").split("/"),n=t[t.length-1].toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-"),a=t[t.length-2],i=".-divisions-"+n;e(".accordion-tabs").each(function(t){e(i).length&&"divisions"===a?e(i).addClass("is-active").next().addClass("is-open").show():e(this).children("li").first().children("h2").addClass("is-active").next().addClass("is-open").show()}),e(".accordion-tabs").on("click","li > h2.tab-link",function(t){if(t.preventDefault(),!e(this).hasClass("is-active")){var n=e(this).closest(".accordion-tabs");n.find(".is-open").removeClass("is-open").hide(),e(this).next().toggleClass("is-open").toggle(),n.find(".is-active").removeClass("is-active"),e(this).addClass("is-active")}})})}},Drupal.behaviors.rbscSearchLocalTabBehavior={attach:function(t){var n=e("a[href='#rbsc_basic_node_search-panel_pane_1']"),a=e("span[data-search-service='rbsc_basic_node_search-panel_pane_1']").attr("data-hit-count");a>0?e(n).append(" ("+a+")"):e(n).parent().hide();var i=e("a[href='#blog_search-panel_pane_2']"),r=e("span[data-search-service='blog_search-panel_pane_2']").attr("data-hit-count");r>0?e(i).append(" ("+r+")"):e(i).parent().hide()}},Drupal.behaviors.rbscTrackFooterMenuUsage={attach:function(t){e(".l-region--footer",t).once("rbsc",function(){e(".l-region--footer .block a").each(function(){e(this).addClass("footer-link"),e(this).click(function(){console.log("Footer fired!"),ga("send","event","Footer Menu","click",e(this).text(),{page:window.location.pathname})})})})}},Drupal.behaviors.rbscTrackTopicUsage={attach:function(t){e(".view-topics",t).once("rbsc",function(){e(".view-topics li a").each(function(){e(this).addClass("topic-link"),e(this).click(function(){ga("send","event","Topic Link","click",e(this).text(),{page:window.location.pathname})})})})}},Drupal.behaviors.rbscTrackGridMenusUsage={attach:function(t){e(".menu-grid",t).once("rbsc",function(){e(".menu-grid .pane-node a").each(function(){e(this).addClass("menu-grid-link"),e(this).click(function(){ga("send","event","Grid Menu Link","click",e(this).attr("href"),{page:window.location.pathname})})})})}},Drupal.behaviors.rbscTrackMainMenuUsage={attach:function(t){e(".l-region--navigation",t).once("rbsc",function(){e(".l-region--navigation .menu a").each(function(){e(this).addClass("main-menu-link"),e(this).click(function(){ga("send","event","Main Menu Link","click",e(this).attr("href"),{page:window.location.pathname})})})})}},Drupal.behaviors.rbscTrackAllSearchUsage={attach:function(t){e(".page-find-all").once("rbsc",function(){e("#rbsc_basic_node_search-panel_pane_1 .item-list .rbsc-local-content-title").each(function(t,n){var a=parseInt(t,10)+1;e(this).click(function(){ga("send","event","All Search","Website Search","Position "+a)})}),e("#pane-blog-search-panel-pane-2 .item-list .field-content").each(function(t,n){var a=parseInt(t,10)+1;e(this).click(function(){ga("send","event","All Search","Blog Search","Position "+a)})}),e("#rbsc_basic_node_search-panel_pane_1 .more-link a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Website Search","Bottom")})}),e("#pane-blog-search-panel-pane-2 .more-link a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Blog Search","Bottom")})})})}}}(jQuery);