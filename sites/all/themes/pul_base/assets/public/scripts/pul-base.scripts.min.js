!function(e){Drupal.theme.prototype.pulBaseExampleButton=function(a,t){return e('<a href="'+a+'" title="'+t+'">'+t+"</a>")},Drupal.theme.prototype.pulChatStatusBlock=function(){var e='<span class="needs-js"></span>',a='<span class="libraryh3lp" jid="libchatpul-main@chat.libraryh3lp.com" style="display: none;"><a class=" button--libraryh3lp button--libraryh3lp__online" href="http://library.princeton.edu/help/chat"> Online now</a></span>',t='<span class="libraryh3lp" style="display: none;"><a class=" button--libraryh3lp button--libraryh3lp__offline" href="http://library.princeton.edu/help/e-mail"> Offline now</a></span>';return e+a+t},Drupal.behaviors.pulSmoothScroll={attach:function(a){var t=300,n=1200,i=e(".cd-top");e(window).scroll(function(){e(this).scrollTop()>t?i.addClass("cd-is-visible"):i.removeClass("cd-is-visible cd-fade-out"),e(this).scrollTop()>n&&i.addClass("cd-fade-out")}),e("a[href*=#l-page]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=e(this.hash);if(a=a.length?a:e("[name="+this.hash.slice(1)+"]"),a.length)return e("html,body").animate({scrollTop:a.offset().top},1e3),!1}})}},Drupal.behaviors.pulSearchHeadersLinkBehavior={attach:function(a){var t=e(".page-find-all-results #general_site_user_search-panel_pane_1 .more-link a").attr("href"),n=e(".page-find-all-results #general_site_keyword_search-panel_pane_1 .more-link a").attr("href"),i=e(".page-find-all-results #databases_keyword_search-panel_pane_2 .more-link a").attr("href"),s=e("#general_site_user_search-panel_pane_1 .item-list li").length;s>2&&e(".page-find-all-results #general_site_user_search-panel_pane_1 h2").replaceWith(function(){return'<h2><a href="'+t+'" title="See all library staff results."><i class="icon-staff"></i>Library Staff Results</a></h2>'});var l=e("#general_site_keyword_search-panel_pane_1 .item-list li").length;l>2&&e(".page-find-all-results #general_site_keyword_search-panel_pane_1 h2").replaceWith(function(){return'<h2><a href="'+n+'" title="See all library website results."><i class="icon-windows"></i>Library Website Results</a></h2>'});var r=e("#databases_keyword_search-panel_pane_2 .item-list li").length;r>2&&e(".page-find-all-results #databases_keyword_search-panel_pane_2 h2").replaceWith(function(){return'<h2><a href="'+i+'" title="See all database results."><i class="icon-databases"></i>Databases Results</a></h2>'})}},Drupal.behaviors.pulMainMenuBehavior={attach:function(a){e(".centered-navigation-menu",a).once("pul",function(){var a=e(".centered-navigation-menu"),t=e(".centered-navigation-menu-button");e(t).click(function(e){e.preventDefault(),a.slideToggle(function(){a.is(":hidden")&&a.removeAttr("style")})}),e(".centered-navigation-menu ul.menu a").each(function(){e(this).click(function(){ga("send","event","Main Menu","click",e(this).text(),{page:window.location.pathname})})})})}},Drupal.behaviors.pulResourceButtonBehavior={attach:function(a,t){e(".field--name-field-db-access-url",a).once("pul",function(){e(".field--name-field-db-access-url a, .field--name-field-db-access-url a").each(function(){var a=e(this).attr("href"),n=a.replace(/\&amp%3B|&amp;/g,"&"),i=t.pul_base_theme.resolvePrefix;e(this).attr("href",i+n),e(this).attr("target","_blank")})})}},Drupal.behaviors.pulChatWidgetBehavior={attach:function(a){e(".library-three-help",a).once("pul",function(){var a=Drupal.theme("pulChatStatusBlock");e(this).append(a)})}},Drupal.behaviors.pulTrackFooterMenuUsage={attach:function(a){e(".l-region--footer",a).once("pul",function(){e(".l-region--footer .block--menu a").each(function(){e(this).addClass("footer-link"),e(this).click(function(){ga("send","event","Footer Menu","click",e(this).text(),{page:window.location.pathname})})})})}},Drupal.behaviors.pulTrackGetHelpMenuUsage={attach:function(a){e(".pane-menu-menu-get-help-menu",a).once("pul",function(){e(".pane-menu-menu-get-help-menu a").each(function(){e(this).addClass("get-help-link"),e(this).click(function(){ga("send","event","Get Help Menu","click",e(this).text())})})})}},Drupal.behaviors.pulTrackNewsUsage={attach:function(a){e(".view-library-news",a).once("pul",function(){e(".view-library-news a").each(function(a,t){var n=parseInt(a,10)+1;e(this).addClass("library-news-link"),e(this).click(function(){ga("send","event","Library News","click",e(this).text()+" Position "+n),console.log("logging "+e(this).text()+n)})})})}},Drupal.behaviors.pulRewriteTempStaff={attach:function(a){e(".view-staff-department-list",a).once("pul",function(){e("tbody a").each(function(a,t){var n=e(this).attr("href"),i=n.replace(/temp_/,"");e(this).attr("href",i)}),e("tbody td.views-field-mail").each(function(a,t){var n=e(this).text(),i=n.replace(/(temp_|_test)/,"");e(this).text(i)})})}},Drupal.behaviors.pulTrackHoursUsage={attach:function(a){e(".pane-library-hours",a).once("pul",function(){e(".pane-library-hours a").each(function(a,t){var n=parseInt(a,10)+1;e(this).addClass("library-hours-link"),e(this).click(function(){ga("send","event","Library Daily Hours","click",e(this).text()+" Position "+n),console.log("logging "+e(this).text()+n)})})})}},Drupal.behaviors.pulTrackTabLinkUsage={attach:function(a){e("#quicktabs-tabpage-homepage_search_tabs-0 .homepage-tab-form-message",a).once("pul",function(){e("#quicktabs-tabpage-homepage_search_tabs-0 .homepage-tab-form-message a").each(function(){e(this).click(function(){ga("send","event",e(this).text(),"All Tab")})})}),e("#quicktabs-tabpage-homepage_search_tabs-1 .homepage-tab-form-message",a).once("pul",function(){e("#quicktabs-tabpage-homepage_search_tabs-1 .homepage-tab-form-message a").each(function(){e(this).click(function(){ga("send","event",e(this).text(),"Books+ Tab")})})}),e("#quicktabs-tabpage-homepage_search_tabs-2 .homepage-tab-form-message",a).once("pul",function(){e("#quicktabs-tabpage-homepage_search_tabs-2 .homepage-tab-form-message a").each(function(){e(this).click(function(){ga("send","event",e(this).text(),"Articles+ Tab")})})}),e("#quicktabs-tabpage-homepage_search_tabs-3 .homepage-tab-form-message",a).once("pul",function(){e("#quicktabs-tabpage-homepage_search_tabs-3 .homepage-tab-form-message a").each(function(){e(this).click(function(){ga("send","event",e(this).text(),"Databases Tab")})})})}},Drupal.behaviors.pulTrackAllSearchUsage={attach:function(a){e(".page-find-all-results .l-main").once("pul",function(){e(".view-databases-keyword-search .item-list .database-title").each(function(a,t){var n=parseInt(a,10)+1;e(this).click(function(){ga("send","event","All Search","Database Title","Position "+n),console.log("db title: "+n)})}),e(" .view-database-subject-search .item-list a").each(function(a,t){var n=parseInt(a,10)+1;e(this).click(function(){ga("send","event","All Search","Database Subject","Position "+n)})}),e(" .view-general-site-keyword-search .item-list .database-titles a").each(function(a,t){var n=parseInt(a,10)+1;e(this).click(function(){ga("send","event","All Search","Website Search","Position "+n)})}),e(" .view-general-site-user-search .item-list .user-link").each(function(a,t){var n=parseInt(a,10)+1;e(this).click(function(){ga("send","event","All Search","People Search","Position "+n)})}),e(" .view-databases-keyword-search .refine-link a").each(function(a,t){parseInt(a,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Database","Top")})}),e(" .view-general-site-keyword-search .refine-link a").each(function(a,t){parseInt(a,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Website Search","Top")})}),e(" .view-databases-keyword-search .more-link a").each(function(a,t){parseInt(a,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Database","Bottom")})}),e(" .view-databases-subject-search .more-link a").each(function(a,t){parseInt(a,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Subject Browse","Bottom")})}),e(" .view-general-site-user-search .more-link a").each(function(a,t){parseInt(a,10)+1;e(this).click(function(){ga("send","event","Expand All Search","People Search","Bottom")})}),e(" .view-general-site-keyword-search .more-link a").each(function(a,t){parseInt(a,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Website Search","Bottom")})}),e(" .view-search-libraries-and-collections h3 a").each(function(a,t){parseInt(a,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Libraries and Collections","Title")})}),e(" .view-search-libraries-and-collections .views-field-field-library-homepage-url a").each(function(a,t){parseInt(a,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Libraries and Collections","Homepage URL")})})})}}}(jQuery),function(e){Drupal.theme.prototype.pulBaseExampleButton=function(a,t){return e('<a href="'+a+'" title="'+t+'">'+t+"</a>")},Drupal.behaviors.pulMainMenuBehavior={attach:function(a){e(".centered-navigation-menu",a).once("pul",function(){var a=e(".centered-navigation-menu"),t=e(".centered-navigation-menu-button");e(t).click(function(e){e.preventDefault(),a.slideToggle(function(){a.is(":hidden")&&a.removeAttr("style")})})})}},Drupal.behaviors.pulResourceButtonBehavior={attach:function(a,t){e(".field--name-field-db-access-url",a).once("pul",function(){e(".field--name-field-db-access-url a, .field--name-field-db-access-url a").each(function(){var a=e(this).attr("href"),n=a.replace(/\&amp%3B|&amp;/g,"&"),i=t.pul_base_theme.resolvePrefix;e(this).attr("href",i+n),e(this).attr("target","_blank")})})}}}(jQuery);
//# sourceMappingURL=pul-base.scripts.min.js.map
